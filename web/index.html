<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetCast Audio Pro - Network Audio Streaming</title>
    <link rel="icon" type="image/png" href="psst.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-container">
                <img src="psst.png" alt="NetCast Audio Pro" class="app-logo">
                <h1 class="app-title">NetCast Audio Pro</h1>
            </div>
            <div class="network-info">
                <div class="ip-display">
                    <span class="label">Local IP:</span>
                    <span id="localIP" class="value">ermittele...</span>
                </div>
                <div class="port-container">
                    <span class="label">Port:</span>
                    <input type="number" id="portInput" value="42069" min="1024" max="65535" class="port-input">
                    <span class="port-warning">‚ö†Ô∏è Standard verwenden</span>
                </div>
            </div>
        </header>

        <!-- Main Control Panel -->
        <main class="control-panel">
            <!-- Stream Status & Control -->
            <section class="stream-control">
                <div class="stream-status">
                    <div class="status-indicator" id="statusIndicator">
                        <div class="status-light"></div>
                        <span id="statusText">Bereit</span>
                    </div>
                </div>
                
                <button id="streamToggle" class="stream-button">
                    <span class="button-icon">üéôÔ∏è</span>
                    <span class="button-text">Stream Starten</span>
                </button>

                <div class="emergency-mode">
                    <button id="emergencyMode" class="emergency-button">
                        <span class="emergency-icon">üÜò</span>
                        <span class="emergency-text">"Hilfe Mama, i hab kan Akku"-Mode</span>
                    </button>
                </div>
            </section>

            <!-- Audio Level Meter -->
            <section class="audio-meter">
                <div class="meter-header">
                    <h3>Audio Level</h3>
                    <span id="dbValue" class="db-value">-‚àû dB</span>
                </div>
                
                <div class="limiter-bar" id="limiterBar">
                    <!-- LED segments will be generated by JavaScript -->
                </div>
                
                <div class="threshold-marker" id="thresholdMarker"></div>
            </section>

            <!-- Voice Activation -->
            <section class="voice-activation">
                <div class="activation-header">
                    <label class="switch">
                        <input type="checkbox" id="voiceActivation">
                        <span class="slider"></span>
                    </label>
                    <span class="activation-label">Voice Activation</span>
                </div>
                
                <div class="threshold-control" id="thresholdControl">
                    <label for="thresholdSlider">Schwellwert:</label>
                    <input type="range" id="thresholdSlider" min="-60" max="0" value="-30" class="threshold-slider">
                    <span id="thresholdValue" class="threshold-value">-30 dB</span>
                </div>
            </section>

            <!-- Stream URL & Sharing -->
            <section class="stream-info">
                <div class="url-container">
                    <label for="streamUrl">Stream URL:</label>
                    <div class="url-display">
                        <input type="text" id="streamUrl" readonly class="stream-url">
                        <button id="copyUrl" class="action-button copy-btn">üìã Kopieren</button>
                        <button id="shareUrl" class="action-button share-btn">üì§ Teilen</button>
                    </div>
                </div>
            </section>

            <!-- Stream Settings -->
            <section class="stream-settings">
                <h3>Stream Einstellungen</h3>
                
                <div class="setting-group">
                    <label for="bitrate">Bitrate:</label>
                    <select id="bitrate" class="setting-select">
                        <option value="64">64 kbps (Niedrig)</option>
                        <option value="128" selected>128 kbps (Standard)</option>
                        <option value="192">192 kbps (Hoch)</option>
                        <option value="320">320 kbps (Premium)</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label for="quality">Qualit√§t:</label>
                    <select id="quality" class="setting-select">
                        <option value="low">Niedrig (Energie sparen)</option>
                        <option value="medium" selected>Mittel (Ausgewogen)</option>
                        <option value="high">Hoch (Beste Qualit√§t)</option>
                    </select>
                </div>

                <div class="setting-group beta-feature">
                    <label class="switch">
                        <input type="checkbox" id="autoEnhancement">
                        <span class="slider"></span>
                    </label>
                    <span class="setting-label">Automatisch Verbessern</span>
                    <span class="beta-badge">BETA</span>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="connection-info">
                <span class="connection-count">Verbindungen: <span id="connectionCount">0</span></span>
                <span class="uptime">Uptime: <span id="uptime">00:00:00</span></span>
            </div>
        </footer>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
</html>